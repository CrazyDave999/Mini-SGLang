<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0" version="28.0.7">
  <diagram name="第 1 页" id="6eowKgcCuE4c77gS1mXm">
    <mxGraphModel dx="938" dy="666" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-16" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="80" y="170" width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-6" value="" style="group;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-16" vertex="1" connectable="0">
          <mxGeometry width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-11" value="&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; text-wrap-mode: nowrap;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bdashed%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2260%22%20y%3D%22140%22%20width%3D%22330%22%20height%3D%22130%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-6" vertex="1">
          <mxGeometry x="-20" y="-30" width="330" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-2" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-6" vertex="1">
          <mxGeometry width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-1" value="Scheduler" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-6" vertex="1">
          <mxGeometry x="20" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-4" value="TP 0" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-6" vertex="1">
          <mxGeometry width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-12" value="DP 0" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-6" vertex="1">
          <mxGeometry x="-20" y="-30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-7" value="" style="group" parent="GbxXZUqGl0EZd2oql5Pv-16" vertex="1" connectable="0">
          <mxGeometry x="150" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-8" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-7" vertex="1">
          <mxGeometry width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-9" value="Scheduler" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-7" vertex="1">
          <mxGeometry x="20" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-10" value="TP 1" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-7" vertex="1">
          <mxGeometry width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=1;" parent="GbxXZUqGl0EZd2oql5Pv-16" source="GbxXZUqGl0EZd2oql5Pv-1" target="GbxXZUqGl0EZd2oql5Pv-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-19" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="430" y="170" width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-20" value="" style="group;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-19" vertex="1" connectable="0">
          <mxGeometry width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-21" value="&lt;span style=&quot;color: rgba(0, 0, 0, 0); font-family: monospace; font-size: 0px; text-align: start; text-wrap-mode: nowrap;&quot;&gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22rounded%3D0%3BwhiteSpace%3Dwrap%3Bhtml%3D1%3Bdashed%3D1%3B%22%20vertex%3D%221%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2260%22%20y%3D%22140%22%20width%3D%22330%22%20height%3D%22130%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3E&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-20" vertex="1">
          <mxGeometry x="-20" y="-30" width="330" height="130" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-22" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-20" vertex="1">
          <mxGeometry width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-23" value="Scheduler" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-20" vertex="1">
          <mxGeometry x="20" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-24" value="TP 2" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-20" vertex="1">
          <mxGeometry width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-25" value="DP 1" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-20" vertex="1">
          <mxGeometry x="-20" y="-30" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-26" value="" style="group" parent="GbxXZUqGl0EZd2oql5Pv-19" vertex="1" connectable="0">
          <mxGeometry x="150" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-27" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-26" vertex="1">
          <mxGeometry width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-28" value="Scheduler" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-26" vertex="1">
          <mxGeometry x="20" y="30" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-29" value="TP 3" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-26" vertex="1">
          <mxGeometry width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;curved=1;" parent="GbxXZUqGl0EZd2oql5Pv-19" source="GbxXZUqGl0EZd2oql5Pv-23" target="GbxXZUqGl0EZd2oql5Pv-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="230" y="115" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-32" value="BroadCast" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="190" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-55" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="60" y="350" width="680" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-53" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-55" vertex="1">
          <mxGeometry width="679.9999999999999" height="150" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-14" value="HTTP server" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-55" vertex="1">
          <mxGeometry x="23.448275862068964" y="70" width="117.24137931034481" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-52" value="" style="group" parent="GbxXZUqGl0EZd2oql5Pv-55" vertex="1" connectable="0">
          <mxGeometry x="152.41379310344826" y="40" width="504.13793103448273" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-47" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry width="504.13793103448273" height="90" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="GbxXZUqGl0EZd2oql5Pv-52" source="GbxXZUqGl0EZd2oql5Pv-13" target="GbxXZUqGl0EZd2oql5Pv-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-13" value="Tokenizer" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry x="23.448275862068964" y="30" width="117.24137931034481" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-15" value="DataParallelController" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry x="164.13793103448273" y="30" width="175.86206896551724" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-49" value="Detokenizer" style="rounded=0;whiteSpace=wrap;html=1;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry x="363.44827586206895" y="30" width="117.24137931034481" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-50" value="Engine" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry width="70.34482758620689" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-67" value="DPAttentionBalancer ?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;" parent="GbxXZUqGl0EZd2oql5Pv-52" vertex="1">
          <mxGeometry x="201.59" y="60" width="148.41" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-54" value="SGLang runtime" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="GbxXZUqGl0EZd2oql5Pv-55" vertex="1">
          <mxGeometry width="128.9655172413793" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="GbxXZUqGl0EZd2oql5Pv-55" source="GbxXZUqGl0EZd2oql5Pv-14" target="GbxXZUqGl0EZd2oql5Pv-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.347;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" parent="1" source="GbxXZUqGl0EZd2oql5Pv-15" target="GbxXZUqGl0EZd2oql5Pv-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.4;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" parent="1" source="GbxXZUqGl0EZd2oql5Pv-15" target="GbxXZUqGl0EZd2oql5Pv-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-60" value="BroadCast" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="540" y="260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GbxXZUqGl0EZd2oql5Pv-61" value="ZMQ IPC (Only attn_tp_rank = 0 receive)" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="260" y="300" width="210" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
